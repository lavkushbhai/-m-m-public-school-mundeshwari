<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Admin Login</title>

<style>
*{box-sizing:border-box}
html,body{
  margin:0;
  width:100%;
  height:100%;
  overflow:hidden;
  font-family:system-ui,sans-serif;
  background:linear-gradient(135deg,#e3f2fd,#e8eaf6);
}
.wrapper{
  width:100%;
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
}
.box{
  width:90%;
  max-width:360px;
  background:#fff;
  padding:20px;
  border-radius:20px;
  box-shadow:0 20px 50px rgba(0,0,0,.3);
}
h2{text-align:center;color:#1e88e5;margin-bottom:12px}
input{
  width:100%;
  padding:12px;
  margin-top:10px;
  border-radius:14px;
  border:1px solid #ccc;
}
button{
  width:100%;
  margin-top:14px;
  padding:12px;
  border:none;
  border-radius:16px;
  background:#1e88e5;
  color:#fff;
  font-weight:700;
}
.links{text-align:center;margin-top:12px;font-size:13px}
.links span{color:#1e88e5;cursor:pointer;text-decoration:underline}
.error{color:#e53935;font-size:13px;text-align:center;margin-top:6px}
.hide{display:none}

/* POPUP */
.popup{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.55);
  align-items:center;
  justify-content:center;
  z-index:999;
}
.popup-box{
  background:#fff;
  padding:24px;
  width:90%;
  max-width:300px;
  border-radius:18px;
  text-align:center;
  box-shadow:0 20px 45px rgba(0,0,0,.35);
}

/* SPINNER */
.spinner{
  width:50px;
  height:50px;
  border:5px solid #e3f2fd;
  border-top:5px solid #1e88e5;
  border-radius:50%;
  margin:12px auto;
  animation:spin 1s linear infinite;
}
@keyframes spin{
  100%{transform:rotate(360deg)}
}

.popup-box h3{color:#1e88e5;margin-bottom:6px}
.popup-box p{font-size:14px;color:#555}
.popup-box button{
  margin-top:12px;
  padding:10px;
  border:none;
  border-radius:14px;
  background:#1e88e5;
  color:#fff;
  font-weight:700;
}
</style>
</head>

<body>

<div class="wrapper">
<div class="box">

<!-- LOGIN -->
<div id="loginBox">
<h2>Admin Login</h2>
<input id="user" placeholder="Username">
<input id="pass" type="password" placeholder="Password">
<button onclick="login()">Login</button>
<div id="err" class="error"></div>
<div class="links">
<span onclick="showForgotUser()">Forgot Username?</span> |
<span onclick="showForgotPass()">Forgot Password?</span>
</div>
</div>

<!-- FORGOT USER -->
<div id="forgotUser" class="hide">
<h2>Forgot Username</h2>
<input id="gmail" placeholder="Enter your Gmail">
<button onclick="verifyGmail()">Next</button>
<div id="gErr" class="error"></div>
</div>

<div id="newUser" class="hide">
<h2>New Username</h2>
<input id="nu" placeholder="New Username">
<input id="cu" placeholder="Confirm Username">
<button onclick="changeUsername()">Change</button>
<div id="uErr2" class="error"></div>
</div>

<!-- FORGOT PASS -->
<div id="forgotPass" class="hide">
<h2>Forgot Password</h2>
<input id="fu" placeholder="Enter Username">
<button onclick="verifyUser()">Next</button>
<div id="uErr" class="error"></div>
</div>

<div id="newPass" class="hide">
<h2>New Password</h2>
<input id="np" type="password" placeholder="New Password">
<input id="cp" type="password" placeholder="Confirm Password">
<button onclick="changePassword()">Change</button>
<div id="pErr" class="error"></div>
</div>

</div>
</div>

<!-- POPUP -->
<div class="popup" id="popup">
  <div class="popup-box">
    <div class="spinner" id="spin"></div>
    <h3 id="popTitle"></h3>
    <p id="popText"></p>
    <button id="popBtn" onclick="closePopup()">Back</button>
  </div>
</div>

<!-- LOGIN SUCCESS SOUND -->
<audio id="successSound">
  <source src="https://assets.mixkit.co/sfx/preview/mixkit-achievement-bell-600.mp3" type="audio/mpeg">
</audio>

<script>
/* ===== PERMANENT STORAGE ===== */
let ADMIN_USER = localStorage.getItem("ADMIN_USER") || "admin";
let ADMIN_PASS = localStorage.getItem("ADMIN_PASS") || "12345";
const ADMIN_GMAIL = "lavkushkumar912025@gmail.com";

/* LOGIN */
function login(){
  err.innerText="";
  if(user.value===ADMIN_USER && pass.value===ADMIN_PASS){

    // loading popup
    showPopup("Logging in","Please wait...");
    document.getElementById("popBtn").style.display="none";
    document.getElementById("successSound").play();

    setTimeout(()=>{
      localStorage.setItem("adminLogin","yes");
      location.href="admin-dashboard.html";
    },3000);

  }else{
    err.innerText="Wrong username or password";
  }
}

/* FORGOT USER */
function showForgotUser(){
  loginBox.classList.add("hide");
  forgotUser.classList.remove("hide");
}
function verifyGmail(){
  if(gmail.value!==ADMIN_GMAIL){
    gErr.innerText="Wrong Gmail";
  }else{
    forgotUser.classList.add("hide");
    newUser.classList.remove("hide");
  }
}
function changeUsername(){
  if(nu.value!==cu.value || !nu.value){
    uErr2.innerText="Username सही से match नहीं हो रहा";
  }else{
    ADMIN_USER=nu.value;
    localStorage.setItem("ADMIN_USER",ADMIN_USER);
    showPopup("Success","Username changed successfully");
    document.getElementById("spin").style.display="none";
    document.getElementById("popBtn").style.display="block";
  }
}

/* FORGOT PASSWORD */
function showForgotPass(){
  loginBox.classList.add("hide");
  forgotPass.classList.remove("hide");
}
function verifyUser(){
  if(fu.value!==ADMIN_USER){
    uErr.innerText="Wrong Username";
  }else{
    forgotPass.classList.add("hide");
    newPass.classList.remove("hide");
  }
}
function changePassword(){
  if(np.value!==cp.value || !np.value){
    pErr.innerText="Password सही से match नहीं हो रहा";
  }else{
    ADMIN_PASS=np.value;
    localStorage.setItem("ADMIN_PASS",ADMIN_PASS);
    showPopup("Success","Password changed successfully");
    document.getElementById("spin").style.display="none";
    document.getElementById("popBtn").style.display="block";
  }
}

/* POPUP */
function showPopup(t,m){
  popTitle.innerText=t;
  popText.innerText=m;
  document.getElementById("spin").style.display="block";
  popup.style.display="flex";
}
function closePopup(){
  popup.style.display="none";
  location.reload();
}
</script>

</body>
</html>